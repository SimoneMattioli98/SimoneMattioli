<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <!--
<link rel="stylesheet" type="text/css" href="../css/issStyle1.css">
<script type="text/javascript" src="../css/issStyle.js"></script>
-->
<style type="text/css">
body
{
    margin-left:  30px;
    margin-right: 30px;
};

P
{
    font-family: Tahoma;
    font-size: 10pt;
};

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
	font-size: 93%;
}

a:hover {
    background-color: #cccccc;
}


hr {
    clear: both;
    height: 1px;
    color: #242424;
    background-color: transparent;
}

h1, h2, h3 {
    color: #242424;
    clear: left;
    font: 100% Tahoma, Helvetica, Arial, sans-serif;
    margin-bottom: 0.5em;
    padding-top: 0.5em;
	border-radius: 10px;
	padding: 5px;
}

top {
	width: 100%;
}


#i {
    color: #ff1010;
}
tt{
	font-family: "Arial";
    font-size: 90%;
	color: #006600;
}
em{
	font-family: "Arial";
    font-size: 80%;
	font-weight: bold;
	border-style:solid;
	border-color: #abe876;
    color: #1632cc;
}
bc{
	font-family: "Arial";
	font-size: 90%;
	font-weight: bold;
    color: #990000;
	background-color: #fcf8c7;
}
ks{
	font-family: "Arial";
	font-weight: bold;
    color: #0000CD	;
	font-size: 90%;
}
kc{
	font-family: "Arial";
	font-weight: bold;
    color: #008000	;
	font-size: 90%;
}
pre{
	font-family: "Consolas";
	font-size: 85%;
	background-color: #f5f5f5;
	border: 1.5px solid silver;
	padding: 5px;
}
m{
	font-family: "Helvetica";
	line-height: 100%;
 	font-size: 75%;
}
div.body{
	 
    font-size: 18px;
}
k{
    color: #990000;
	font-weight: bold;
	font-size: 90%;
}
h1 {
    font-size: 150%;
    background-color: #b2c0ff;
	padding: 10px;
}

h2 {
    background-color: #9ed8ff;
    font-size: 130%;
}

h3 {
	background-color: #e6ccff;
    font-size: 100%;
}
h4 {
    background-color: #ccffcc;
    font-size: 100%;
	width: 95%;
	border-radius: 5px;
	padding: 2px;
}
h5 {
    background-color: #d5ffb0;
    font-size: 100%;

}
div.req{
	background-color: #d9ffb3;
    font-size: 18px;
	width: 700px;
    border: 3px solid green;
    padding: 15px;
    margin: 10px;
}
div.remark{
	background-color: #E3F2FD;
    border: 1.5px solid #d5f2ed;
    padding: 15px;
    margin: 10px;
	border-radius: 25px;
}
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}

ol, ul, li {
  margin: 0;
  margin-left: 10px;
  padding: 0;
  padding-bottom: 5px;
}

table, th, td {
	border: 1px solid black;
}

img {
	border: 1.5px solid #d5f2ed

}

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
}

div.wrapdesc{
	width: 90%;
	margin: auto;
}

div.imagedesc{
	width: 85%;
	margin: auto;
}
</style>
    
<head>
   
<title>resumableBoundaryWalker</title></head>
    
<body>
<div id="top">
<h1>Lab ISS | the project resumableBoundaryWalker<font size="5"></font> </h1>
</div>  

<div class="body"> 
<h2>Introduction</h2>
This case-study starts to deal with the design and development of proactive/reactive software systems which work under user-control.
 
<h2>Requirements</h2>

 
<div class="remark">
 
Design and build a software system (named from now on 'the application') that leads the robot described in 
<a href="https://htmlpreview.github.io/?https://github.com/anatali/issLab2021/blob/master/it.unibo.virtualRobot2020/userDocs/VirtualRobot2021.html" target="lab"><em>VirtualRobot2021.html</em></a> 
to walk along the boundary of a empty, rectangular room under user control. 
<br/>
More specifically, the <ks>user story</ks> can be summarized as follows:
<br/>
<table style="width:98%">
<tbody>	

<tr>
<td style="width:65%" >
the robot is initially located at the <ks>HOME</ks> position, as shown in the picture on the rigth
</td>
<td><center><img src="./img/emptyGridWithHome.png" alt="emptyGridWithHome" width="35%"></center>
</td>
</tr>

<tr>
<td style="width:65%" >
 the application presents to the user a <ks>consoleGui</ks> similar to that shown in the picture on the rigth
</td>
<td><center><img src="./img/stopResumeConsole.png" alt="stopResumeConsole" width="35%"></center>
</td>
</tr>



<tr>
<td style="width:65%" >
when the user hits the button <k>RESUME</k> the robot <ks>starts or continue to walk</ks> along the boundary, while
updating a <ks>robot-moves history</ks>;
</td>
<td> 
</td>
</tr>

<tr>
<td style="width:65%" >
when the user hits the button <k>STOP</k> the robot stop its journey, waiting for another <k>RESUME</k> ;
</td>
<td> 
</td>
</tr>

<tr>
<td style="width:65%" >
when the robot reachs its <ks>HOME</ks> again, the application <i>shows the robot-moves history</i> on the standard output device.
</td>
<td> 
</td>
</tr>


 </tbody>
</table>

 
</div>

 <h3>Delivery</h3>
The customer <ks>hopes to receive</ks> a working prototype (written in Java ) of the application by <k>Monady 22 March</k>. 
The name of this file (in pdf) should be:
<pre>
cognome_nome_resumablebw.pdf
</pre>

<h2>Requirement analysis</h2>
<div class="remark">
    A closer confrontation with the custum has clarified that the customer intends:<br>
    <b>NOUNS</b>
    <ul>
        <li>"<ks>robot</ks>": a device able to execute move commands sent over the network, as described in the document <a href="https://htmlpreview.github.io/?https://github.com/anatali/issLab2021/blob/master/it.unibo.virtualRobot2020/userDocs/VirtualRobot2021.html">VirtualRobot2021.html</a> provided by the customer;</li>
        <li>"<ks>room</ks>": a conventional, empty and rectangular room of an house, delimited by <ks>walls</ks>;</li>
        <li>"<ks>home position</ks>": fixed starting position inside the room near a <ks>wall</ks> where the robot will be located before the software starts. The costumer initialized the <ks>home</ks> in the up left corner, facing South;</li>
        <li>"<ks>robot-moves history</ks>": the movement performed by the robot during his jurney. This has to be shown when the robot complete the entire boundary and is back to 
        its home position;</li>
        <li>"<ks>consoleGui</ks>": a user interacting component that allow the costumer to send fixed commands to the robot;</li>
    </ul>
    <b>VERBS</b>
    <ul>
        <li>"<ks>walk</ks>": the robot moves freely in any direction. Its path can be random or (<ks>preferably</ks>) organized. This constitutes also the <ks>pro-active</ks> part of pur system;</li>
        <li>"<ks>resume</ks>": starts the robot to let him finish the walk along the boundary;</li>
        <li>"<ks>stop</ks>": stops the robot in the position it is currently at allowing the user to resume it later;</li>
    </ul>
    
    
</div>

</div>

<h2>Problem analysis</h2>
<div class="remark">
    We highlight that:
    <ol>
        <li>In the <a href="https://htmlpreview.github.io/?https://github.com/anatali/issLab2021/blob/master/it.unibo.virtualRobot2020/userDocs/VirtualRobot2021.html">VirtualRobot2021.html</a>: commands the customer states that the robot can receive move commands in two different ways:
            <ul>
                <li>by sending messages to the port 8090 using <ks>HTTP POST</ks></li>
                <li>by sending messages to the port 8091 using a <ks>websocket</ks></li>
            </ul>
        </li>
        
        <li>With respect to the technological level, there are many libraries in many programming languages that support the required protocols.
            <ul>
                <li>    However, the problem does introduce an <b>abstraction gap at the conceptual level</b>, since <b>the required logical interaction</b> is always a <ks>request-response</ks>, <b>regardless of the technology</b> used to implement the interaction with the robot.
                </li>
            </ul>
        </li>
        
        <li>Two types of control language are made availlable from the costumer: the <ks>cril</ks> and the <ks>aril</ks>;
            <ul>
                <li>cril: we need to specify the time lenght of the command when we want to send a message;</li>
                <li>aril: the time lenght of the command is fixed;</li>
            </ul></li>
        
        <li>The aril language is prefered at test time because we can already know the desired results. For the same reason a controlled way of moving 
            the robot is prefered.
        </li>

        <li>A Gui is needed for the user to send commands to the robot. The calss <a href="../it.unibo.resumableBaundaryWalker/app/src/main/java/it/unibo/consolegui/ConsoleGui.java" target="code">Consolegui.java</a>  
            can be usefull to fulfil this task;</li>

        <li>By adding a Gui component we define a view component that can interact with the robot throw a MVC pattern;</li>
        
        
    </ol>

</div>

<h3>Logical architecture</h3>
<table style="width:98%">
    <tbody>
        <tr>
            <td style="width: 70%;">
                We nust design and build a distributed system with two software macro-components:
                <ol>
                    <li>the <a href="https://htmlpreview.github.io/?https://github.com/anatali/issLab2021/blob/master/it.unibo.virtualRobot2020/userDocs/VirtualRobot2021.html">VirtualRobot</a>, given by the customer</li>
                    <li>our <b>application</b> which interacts with the robot with a <b>request-response</b> pattern</li>
                </ol>
                A first scheme of the logical architecture of the systems can be defined as shown in the figure (for the meaning of the symbols, see the <a href="./img/legenda.png" target="web">legenda</a>)
            </td>
            <td>
                <img src="./img/resumableArch.jpg" alt="user-story" width="90%">
            </td>
        </tr>
        <tr>
        </tr>
    </tbody>
</table>




<h2>Test plans</h2> 
<div class="remark">
    To check if the application fulfills the requirements, we could keep track of every moves done by the robot.<br><br>
    <br>
    <ol>
        <li>Define a <kc>String moves="";</kc></li>
        <li>Every time the robot moves we append the symbol corresponding to the direction taken (e.g. after the command <kc>moveForward</kc> we append a <ks>"w"</ks>
        and if a command moveLeft is sent after, we append a <ks>"l"</ks>. At the end <kc>moves</kc> will look like <ks>"wl"</ks>) ;</li>
        <li>when the robot has completed the room's boundary we compare the value of <kc>moves</kc> with the <ks>expected result</ks>;</li>
    </ol>

    The last point can be easily checked with a TestUnit software.
</div>


<h2>Project</h2> 
 
<h3>Nature of the application component</h3>
<table style="width:98%">
    <tbody>
        <tr>
            <td style="width: 70%;">
                Our application "<ks>cautiousExplorer</ks>" will be a conventional Java program and it can be 
                represended by a object with an internal thread, as is shown in the figure.
            </td>
            <td>
                <img src="./img/resumableJavaArch.jpg" alt="project architecture" width="90%">
            </td>
        </tr>
    </tbody>
</table>
<h3>Communication's abstraction layer</h3>
<table style="width:98%">
    <tbody>
        <tr>
            <td style="width: 70%;">
               It is noticed from the technological detail from <a href="https://htmlpreview.github.io/?https://github.com/anatali/issLab2021/blob/master/it.unibo.virtualRobot2020/userDocs/VirtualRobot2021.html">VirtualRobot2021.html</a> that we have two different technologies for communicating with the robot.
               This gap can be resolved by adding an abstraction level creating a layered architecture, which is the simplest form of software architecture.
               A pattern usefull to fulfill the gap is the pattern Facade which allows the programmers to work through an object to minimize the dependencies on a subsistem (in our case the communication).
               So we will have an interface containing the basic method such as <ks>forward</ks>, <ks>reply</ks> and <ks>request</ks> which are common to both <ks>HTTP</ks> and <ks>Websocket</ks> protocols.
               The java interface defined in the project <ks>boundaryWalk</ks> named <a href="boundaryWalkUtils/IssOperations.java" target="web"><em>IssOperations.java</em></a> will do the job. The way this interface can be used is shown in the image.
            </td>
            <td>
                <img src="./img/issCommsLayers.png" alt="communication abstraction level - Facade" width="90%">
            </td>
        </tr>
        <tr>
            <td style="width: 70%;">
               It is possible to add another abstraction layer on the creation of the object that will handle the communication. We can use the pattern Factory embadded in a class that will
               initialize the protocol that will be used. The class <a href="boundaryWalkUtils/IssCommsSupportFactory.java" target="web"><em>IssCommsSupportFactory.java</em></a></a> from <ks>boundaryWalk</ks> will do the job.
             </td>
             <td>
                 <img src="./img/IssCommsFactory.png" alt="communication abstraction level - Factory" width="90%">
             </td>
        </tr>
    </tbody>
</table>

<h3>Pattern MVC for GUI</h3>
<table style="width:98%">
    <tbody>
        <tr>
            <td style="width: 70%;">
               The application can be much easilly managed by implementing a MVC pattern. This way we isolate the GUI and the robot behavior making them communicate through a controller that 
               manipulate the businness logic of the robot. A first architecture can be seen in the picture on the right;
            </td>
            <td>
                <img src="./img/resumable-logic-arch.png" alt="project architecture" width="90%">
            </td>
        </tr>
    </tbody>
</table>

<h3>Workflow - Priority list</h3>
<div class="remark">
    We define a list of priority for the fulfillment of requirements. The smallest the list index the higher the priority:
    <ol>
        <li>Create a stable and efficient communication system that can handle both HTTP and websocket. Otherwise if we are not apble to communicate with the 
            robot there is no point of doing everything else;
        </li>
        <li>Add to the communication system the message format (cril, aril). A great solution would to make the user able of using both languages;</li>
        <li>Make the robot move around the boundary;</li>
        <li>Create a Gui that can allow the user to make the robot do the boundary;</li>
        <li>Create another button that allow the user to stop the robot;</li>
        <li>Use the information received from the robot to create the moves-history;</li>
    </ol>
</div>

<h2>Testing</h2> 
 

<h2>Deployment</h2> 
The deployment can be found in the project named <ks>iss2021_resumablebw</ks> inside my git <a href="https://github.com/SimoneMattioli98/SimoneMattioli">repository</a>.
<br/><br/>
The final commit commit has done after <k>5</k> hours of work.
 
<h2>Maintenance</h2> 
 
<!-- USEFUL
<table style="width:100%" border="1">
<tr>
<td style="width:50%">
</td>
<td></td>
</tr>
</table>
 QUESTIONS:
chiarisce cosa il committente intende con 'Optionally'  
chiarisce cosa il committente intende con 'should remember' 
chiarisce cosa il committente intende con 'mental map'
definisce la user story in modo da comprendere TUTTI i requisiti (anche opzionali)
discute se sia meglio avvalersi di HTTP o delle websocket e perchè
discute se sia meglio usare il linguaggio di comando cril, aril (o altro) e perchè
discute se sia meglio muovere il robot in modo random o in modo organizzato 
discute se il ritorno alla den debba/possa avvenire senza ricalcare il percorso effettuato
presenta ogni TestPlan collegandolo ad una user story e in modo 'concreto' (non come un insieme di intenti)
propone diverse tipologie di scene/situazioni per il testing
individua e propone (motivandola) una lista di priorità per il soddisfacimento dei requisiti 
presenta una stima dei tempi di realizzazione 
presenta un elenco delle risorse che sarebbe opportuno avere e/o procurarsi
presenta una architettura di progetto
presenta dettagli di progetto che permettono una precisa implementazione da parte di chi legge
pone in evidenza le parti di funzionamento proattivo e quelle di funzionamento reattivo
ECCEDE nelle dimensioni del file (al momento > 1600Kb)


-->
	      	
<br/><br/> 	
</div>  

<div style="background-color:rgba(86, 56, 253, 0.9); color:white">
By studentName email: simone.mattioli6@studio.unibo.it  
<img src="./img/Optimized-DSC_0050_flip.jpg" alt="teacher" width="10%" height="10%">
</div> 
</body>
</html>